<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script>
    $(() => {
      console.log("inside script")
      $('#t1').blur(() => {
        console.log("blur event occur")
        let pin = { pincode: $('#t1').val() };

        let parameterstothefunction = {
          data: pin,
          url: "http://localhost:700/pincode",
          type: 'get',
          dataType: "json",
          success: (data) => {
            console.log("data given by server in success " + data.status);

            if (data.status == true) {
              $('#t2').val(data.city);
              $('#msg').html(data.message);
            }
            else {
              $('#t2').val(data.city);
              $('#msg').html(data.message);
            }

          },
          error: (data) => { console.log("failed to contact server " + data.status) }
        };


        console.log("is the function working");
        $.ajax(parameterstothefunction);

      });//blur

    });

       
  </script>
</head>

<body>
  <h1>Pincode Area</h1>
  <input type="text" id="t1" placeholder="Enter pincode" />
  <br><br>
  <input type="text" id="t2" placeholder="Area" />
  <br><br>
  <span id="msg">Message</span>
</body>

</html>